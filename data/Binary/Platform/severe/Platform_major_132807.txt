Search computes its own annotation type inside a loop
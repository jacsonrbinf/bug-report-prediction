Three-way compare shows wrong changes